
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Add2paper Engineering Blog</title>
    
    <meta name="author" content="Add2paper">

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta property="og:title" content="Add2paper Engineering Blog"/>
    <meta property="og:type" content="blog"/>

    
    <meta property="og:url" content="http://add2paper.github.io"/>
    <meta property="og:site_name" content="Add2paper Engineering Blog"/>
    <meta property="og:description" content="애드투페이퍼 서비스 개발 및 운영 경험을 공유하는 블로그입니다."/>
    

    

    

    <meta property="og:image" content="http://cdn.add2paper.com/media/image/2013/11/138475635572882.png" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/assets/themes/twitter/bootstrap/css/bootstrap.2.2.2.min.css" rel="stylesheet">
    <link href="/assets/themes/twitter/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">

    <!-- Le fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->

    <!-- atom & rss feed -->
    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">

  </head>

  <body>
    <div id="fb-root"></div>
    <script>(function(d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
      js = d.createElement(s); js.id = id;
      js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=434811836608336";
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));</script>

    <div class="navbar">
      <div class="navbar-inner">
        <div class="container-narrow">
          <a class="brand" href="/">Add2paper Engineering Blog</a>
          <ul class="nav">
            <li><a href="/">Home</a></li>
            <li><a href="/archive.html">Archive</a></li>
            <li><a href="/rss.xml">RSS</a></li>
            <!--<li><a href="/atom.xml">Atom</a></li>-->
            


  



          </ul>
        </div>
      </div>
    </div>

    <div class="container-narrow">

      <div class="content">
        <div style='margin-bottom: 50px;'>

<div class="page-header">
  <h1><a href='/recruiting/client/'>애드투페이퍼 서비스를 함께 혁신할 윈도우 프로그래머(C# / .NET Framework)를 모십니다.</a></h1>
</div>

<div class="row-fluid post-full">
  <div class="span12">
    <div class="content">
      
      <p><img src="http://cdn.add2paper.com/media/image/2013/6/137084747402312.png" style="width: 100%; margin: 10px 0 10px 0;" /></p>

<p>대한민국 대학교 3곳 중 1곳에서 공통적으로 사용하는 소프트웨어, 몇 개나 될까요? <br />
애드투페이퍼의 프린팅솔루션은 그 중 하나입니다.<br />
(무려 80여 대학교의 1,000대 이상의 PC에 설치되어있습니다!)<br /></p>

<p>애드투페이퍼 프린팅 솔루션은 멋진 사용자경험과 디자인으로, 대학가의 낙후된 프린팅 서비스 이용 환경을 혁신적으로 변화시켜나가고 있습니다.</p>

<p>이미 대학가에 무료프린팅 문화를 꽃피운 애드투페이퍼! <br />
하지만 이에 만족하지 않고, 무료프린팅뿐 아니라 대학생의 프린팅 서비스 경험 전반을 아우르는 변화를 이끌 윈도우 클라이언트 3.0 버전을 준비하고 있습니다.</p>

<p>현재까지 애드투페이퍼 클라이언트를 통해 인쇄된 프린팅 장수는 총 2천 104만 969장입니다(2014년 6월 16일 오후 3시 기준).
애드투페이퍼 클라이언트는 전국 대학생 생활의 한 부분으로 자리 잡아가고 있습니다. <br />
전국 모든 대학교 복사실 PC에 애드투페이퍼 클라이언트가 설치되는 그 날까지, 애드투페이퍼 클라이언트의 혁신을 주도할 엔지니어분을 모십니다.</p>

<ul>
<li>애드투페이퍼 홈페이지 : <a href="http://www.add2paper.com" target="_blank">http://www.add2paper.com</a></li>
<li>애드투페이퍼 프린팅솔루션 소개 : <a href="http://www.add2paper.com/printing/" target="_blank">http://www.add2paper.com/printing/</a></li>
<li>애드투페이퍼 회사 소개 : <a href="http://www.add2paper.com/about/" target="_blank">http://www.add2paper.com/about/</a></li>
</ul>


<p><br /><br /></p>

<h2>애드투페이퍼 윈도우 클라이언트 개발자</h2>

<hr />

<p>전국 80대 대학교 1000여 대 PC에 설치되어 있는 애드투페이퍼 윈도우 클라이언트를 혁신할 엔지니어분을 모십니다. 현재 애드투페이퍼 클라이언트는 애드투페이퍼 회원의 무료프린팅뿐만 아니라 기존 유료프린팅 솔루션까지 대체하는 차세대 프린팅 솔루션으로 입지를 굳히고 있습니다. (애드투페이퍼 클라이언트에서는 무료 / 유료 프린트가 모두 가능합니다.) 또한 윈도우 클라이언트 3.0 버전에서는 무료 / 유료 인쇄를 모두 아우르는 seamless 한 사용자 경험을 제공할 예정입니다.</p>

<p>현재까지 애드투페이퍼 클라이언트를 통해 인쇄된 프린팅 장수는 총 2천 104만 969장입니다(2014년 6월 16일 오후 3시 기준). 애드투페이퍼 클라이언트는 전국 대학생 생활의 한 부분으로 자리 잡아가고 있습니다. 전국 모든 대학교 복사실 PC에 애드투페이퍼 클라이언트가 설치되는 그 날까지, 애드투페이퍼 클라이언트의 혁신을 주도할 엔지니어분을 모십니다.</p>

<p><br /></p>

<h3>담당업무</h3>

<ul>
<li>애드투페이퍼 윈도우 클라이언트 3.0 버전 개발</li>
</ul>


<p><br /></p>

<h3>지원자격</h3>

<ul>
<li>C# 가능자</li>
<li>.NET Framework 개발 가능자</li>
</ul>


<p><br /></p>

<p><br /><br /></p>

<h2>근무 환경 및 복리 후생</h2>

<hr />

<ul>
<li>회사 위치 : <a href="http://map.naver.com/local/siteview.nhn?code=13468464">서울특별시 서초구 양재동 264-7 신성빌딩 3층</a> &nbsp;</li>
<li>건물 한 층을 전부 사용하는 쾌적한 사무실 &nbsp;</li>
<li>27형 iMac 또는 그에 준하는 개발 환경 제공 (윈도우 프로그래머는 27형 iMac에 준하는 윈도우 개발 장비 지원) &nbsp;</li>
<li>연봉제, 4대 보험, 퇴직금, 인센티브 &nbsp;</li>
<li>점심 식대 지원  &nbsp;</li>
<li>원하는 출퇴근 시간, 근무환경 선택 가능 &nbsp;</li>
<li>도서 구매비 지원 &nbsp;</li>
<li>컨퍼런스 참가비 지원 &nbsp;</li>
<li>남자 : 여자 = 2 : 8 의 놀라운(?) 성비 &nbsp;</li>
</ul>


<p>&#x20;<br /><br /><br /></p>

<h2>지원 방법</h2>

<hr />

<ul>
<li>수시 채용입니다. 언제든지 연락주세요. &nbsp;</li>
<li>resume, 포트폴리오 (형식 자유) 를 jobs@add2paper.com 으로 보내주시면 됩니다. (개인 블로그, 홈페이지, 또는 Github 계정을 함께 보내주시면 좋습니다.) &nbsp;</li>
<li>이메일 접수 시 24시간 이내에 개별 연락드립니다. &nbsp;</li>
</ul>


<p>&#x20;<br /><br /><br /></p>

<h2>애드투페이퍼 언론 보도</h2>

<hr />

<ul>
<li><a href="http://www.add2paper.com/about/#press" target="_blank">http://www.add2paper.com/about/#press</a> 에서 확인 가능</li>
</ul>


<p>&#x20;<br /><br /><br /></p>

<div class="fb-like" data-href="http://add2paper.github.io/recruiting/client/" data-send="true" data-width="450" data-show-faces="true"></div>


<hr />


    <div class='page-header' style="margin-top: 50px;">
      <h1><a href='/2014/03/27/Add2paper-Recruiting'>애드투페이퍼 서비스를 같이 혁신할 엔지니어분을 모십니다.</a></h1>
    </div>

    <div class='row-fluid'>
      <div class='span12'>
        <img src='http://cdn.add2paper.com/media/image/2013/6/137084747402312.png' style='width: 100%; margin: 10px 0 10px 0;' />
<p>애드투페이퍼(<a href='http://www.add2paper.com'>홈페이지</a> / <a href='http://www.add2paper.com/pdf/'>매체소개서</a>)는 20대 대학생 타겟 미디어입니다. 현재 전국 72개 대학 900여 대 제휴 PC를 통해 30만 명의 대학생이 애드투페이퍼 서비스를 사용하고 있습니다.</p>

<p>2013년 3월에 애드투페이퍼 앱(<a href='http://www.add2paper.com/m_api/download/ios/'>아이폰</a> / <a href='http://www.add2paper.com/m_api/download/android/'>안드로이드</a>)을 추가로 출시해 매일 모바일 회원의 50%가 앱에 접속하고 있습니다. 또한 아산나눔재단, DSC인베스트먼트 등으로부터 9억 원의 투자를 유치하여 공격적으로 성장하고 있습니다.</p>

<p>2014년에는 30만 대학생들의 소통 창구 캠퍼스 담벼락을 앱 내에 오픈하는 등 다양하고 멋진 시도들을 준비하고 있습니다. 지금까지 멋지게 성장해온 애드투페이퍼 서비스가 앞으로 또 어떤 모습으로 진화할지 궁금하시다구요?? 그럼 지금 바로 로켓에 올라타세요!! :)</p>

<p>아래는 애드투페이퍼에서 채용하는 포지션들을 나열한 것입니다. 동시에 여러 업무를 진행하셔도 관계없고, 도중에 담당 업무를 바꾸셔도 관계없습니다! 애드투페이퍼는 함께 고민하고, 공부하고, 성장해 나가는 열정적인 분들을 기다립니다. 줄곧 백엔드 개발을 하셨지만 앱 개발을 해보고 싶으시다구요? 애드투페이퍼에서는 가능합니다. 만들고 싶은 서비스를 함께 기획하고, 함께 만들어 나갈 분들을 찾습니다!</p>

<p>&#32;<br /><br /></p>

<h2 id='android_'>Android 개발자</h2>
<hr /><p style='text-align: center'>
<img src='http://cdn.add2paper.com/media/image/2014/3/139590972481505.jpg' style='width: 40%' />
&nbsp;&nbsp;
<img src='http://cdn.add2paper.com/media/image/2014/3/139590973056549.jpg' style='width: 40%' />
</p><br />
<p><a href='http://www.add2paper.com/m_api/download/android/'>애드투페이퍼 안드로이드앱</a>은 Native와 Web이 섞인 하이브리드 앱으로 개발되었습니다. 컨텐츠가 빈번하게 바뀌는 부분은 Web 기술을 적용하여 서버에서 기민하게 변경할 수 있도록 설계되었습니다. 애드투페이퍼 안드로이드앱에 가슴 뛰는 놀라운 기능과 서비스를 함께 추가하실 분들을 모십니다!</p>
<br />
<h3 id='id1'>담당 업무</h3>

<ul>
<li>애드투페이퍼 안드로이드앱 개발 / 신규 기능 추가 &#160;</li>

<li>애드투페이퍼 안드로이드앱 테스트 자동화 &#160;</li>
</ul>
<br />
<h3 id='id2'>지원자격</h3>

<ul>
<li>Android 개발 가능자</li>
</ul>
<br />
<h3 id='id3'>우대사항</h3>

<ul>
<li>번뜩이는 아이디어가 넘치시는 분 &#160;</li>

<li>적극적으로 Ideation 과정 부터 구체화 및 개발까지 모든 과정을 즐기며 참여하는 분 &#160;</li>
</ul>

<p>&#32;<br /><br /></p>

<h2 id='ios_'>iOS 개발자</h2>
<hr /><p style='text-align: center'>
<img src='http://cdn.add2paper.com/media/image/2014/3/139591545156665.jpg' style='width: 40%' />
&nbsp;&nbsp;
<img src='http://cdn.add2paper.com/media/image/2014/3/13959154604921.jpg' style='width: 40%' />
</p><br />
<p><a href='http://www.add2paper.com/m_api/download/ios/'>애드투페이퍼 아이폰앱</a> 또한 Native와 Web이 섞인 하이브리드 앱으로 개발되었습니다. Web 부분은 안드로이드앱과 아이폰앱에서 공유하여 개발 생산성을 극대화하고 있습니다. 애드투페이퍼 아이폰앱에 가슴 뛰는 놀라운 기능과 서비스를 함께 추가하실 분들을 모십니다!</p>
<br />
<h3 id='id4'>담당 업무</h3>

<ul>
<li>애드투페이퍼 아이폰앱 개발 / 신규 기능 추가 &#160;</li>

<li>애드투페이퍼 아이폰앱 테스트 자동화 &#160;</li>
</ul>
<br />
<h3 id='id5'>지원자격</h3>

<ul>
<li>iOS 개발 가능자</li>
</ul>
<br />
<h3 id='id6'>우대사항</h3>

<ul>
<li>번뜩이는 아이디어가 넘치시는 분 &#160;</li>

<li>적극적으로 Ideation 과정 부터 구체화 및 개발까지 모든 과정을 즐기며 참여하는 분 &#160;</li>
</ul>
<br />
<p>&#32;<br /><br /></p>

<h2 id='___'>웹 서비스 백엔드 개발자</h2>
<hr />
<p>애드투페이퍼의 서비스의 백엔드는 100% Python으로 만들어져 있습니다. 저희 서비스의 구성 Stack은 <a href='/2013/04/17/Add2paper-Technology-Stack/'>&#8220;애드투페이퍼 서비스 구성 Stack&#8221;</a> 포스팅에서 확인하실 수 있습니다. Python으로 혁신적인 서비스를 만들고 싶으신 분들, 더이상 Instagram, Pinterest, Quora 등 Python 엔지니어들의 지상낙원을 부러워하지 않으셔도 됩니다. 애드투페이퍼에서 Python으로 끝내주는 서비스 같이 만들어요!</p>
<br />
<h3 id='id7'>담당 업무</h3>

<ul>
<li>애드투페이퍼 서비스 신규 기능 추가 / 신규 서비스 개발 &#160;</li>

<li>오픈소스 스택으로 자동화된 서비스 구성 및 운용 &#160;</li>

<li>DevOps (애드투페이퍼에서는 자동화된 배포 시스템을 이용, 누구나 원하는 시간에 언제든지 원클릭으로 배포가 가능합니다.) &#160;</li>
</ul>
<br />
<h3 id='id8'>지원자격</h3>

<ul>
<li>Python 가능자</li>
</ul>
<br />
<h3 id='id9'>우대사항</h3>

<ul>
<li>기본적인 알고리즘에 대한 이해 &#160;</li>

<li>MySQL 사용 경험 &#160;</li>

<li>Linux 사용 경험 &#160;</li>

<li>웹 프레임워크 사용 경험 (Django, Flask, RoR 등) &#160;</li>

<li>Mercurial, Git 등 DVCS 사용 경험 &#160;</li>

<li>Memcached, Redis, Celery, Nginx, Gunicorn, Supervisor 중 1개 이상 사용해본 경험 &#160;</li>
</ul>

<p>&#32;<br /><br /></p>

<h2 id='___'>애드투페이퍼 윈도우 클라이언트 개발자</h2>
<hr />
<p>전국 72대 대학교 900대 PC에 설치되어 있는 애드투페이퍼 윈도우 클라이언트를 혁신할 엔지니어분을 모십니다. 현재 애드투페이퍼 클라이언트는 애드투페이퍼 회원의 무료프린팅뿐만 아니라 기존 유료프린팅 솔루션까지 대체하는 차세대 프린팅 솔루션으로 입지를 굳히고 있습니다. (애드투페이퍼 클라이언트에서는 무료 / 유료 프린트가 모두 가능합니다.)</p>

<p>현재까지 애드투페이퍼 클라이언트를 통해 인쇄된 프린팅 장수는 총 1천 703만 3736장입니다(2014년 3월 27일 오후 6시 기준). 요즘은 매일 10만장씩 인쇄되어 2천만장 돌파를 코앞에 두고 있습니다. 애드투페이퍼 클라이언트는 전국 대학생 생활의 한 부분으로 자리 잡아가고 있습니다. 전국 모든 대학교 복사실 PC에 애드투페이퍼 클라이언트가 설치되는 그날까지, 애드투페이퍼 클라이언트의 혁신을 주도할 엔지니어분을 모십니다.</p>
<br />
<h3 id='id10'>담당 업무</h3>

<ul>
<li>애드투페이퍼 클라이언트 사용자 경험 혁신 &#160;</li>

<li>애드투페이퍼 클라이언트 성능 튜닝 &#160;</li>
</ul>
<br />
<h3 id='id11'>지원자격</h3>

<ul>
<li>C / C++ 가능자 &#160;</li>

<li>MFC 가능자 &#160;</li>
</ul>
<br />
<h3 id='id12'>우대사항</h3>

<ul>
<li>매일 전국 각지에서 애드투페이퍼 클라이언트를 이용해 인쇄하는 애드투페이퍼 유저분들의 사용자 경험을 밤낮으로 고민하고 개선하는 열정을 가지신 분 &#160;</li>
</ul>

<p>&#32;<br /><br /><br /></p>

<h2 id='____'>근무 환경 및 복리 후생</h2>
<hr />
<ul>
<li>회사 위치 : <a href='http://map.naver.com/local/siteview.nhn?code=13468464'>서울특별시 서초구 양재동 264-7 신성빌딩 3층</a> &#160;</li>

<li>건물 한 층을 전부 사용하는 쾌적한 사무실 &#160;</li>

<li>27형 iMac 제공 &#160;</li>

<li>연봉제, 4대보험, 퇴직금, 인센티브 &#160;</li>

<li>점심 식대 지원 &#160;</li>

<li>원하는 출퇴근 시간, 근무환경 선택 가능 &#160;</li>

<li>도서 구매비 지원 &#160;</li>

<li>컨퍼런스 참가비 지원 &#160;</li>

<li>남자 : 여자 = 2 : 8 의 놀라운(?) 성비 &#160;</li>
</ul>

<p>&#32;<br /><br /><br /></p>

<h2 id='_'>지원 방법</h2>
<hr />
<ul>
<li>수시 채용입니다. 언제든지 연락주세요. &#160;</li>

<li>resume, 포트폴리오 (형식 자유) 를 jobs@add2paper.com 으로 보내주시면 됩니다. (개인 블로그, 홈페이지, 또는 Github 계정을 함께 보내주시면 좋습니다.) &#160;</li>

<li>이메일 접수 시 24시간 이내에 개별 연락드립니다. &#160;</li>
</ul>

<p>&#32;<br /><br /><br /></p>

<h2 id='__'>애드투페이퍼 언론 보도</h2>

<ul>
<li><a href='http://www.ittoday.co.kr/news/articleView.html?idxno=42209'>(Fall in App) 무료 프린팅 인기 ‘애드투페이퍼’ | 아이티투데이</a></li>

<li><a href='http://www.ktv.go.kr/ktv_contents.jsp?cid=469278'>KTV 기획 대한민국의 희망, 창조경제 (12회) | KTV</a></li>

<li><a href='http://www.mt.co.kr/view/mtview.php?type=1&amp;no=2013062109199663750&amp;outlink=1'>(더벨)&#8217;쫄지말고 투자하라&#8217;, 시즌 1 마지막 방송 | 머니투데이</a></li>

<li><a href='http://news20.busan.com/controller/newsController.jsp?newsId=20130720000008'>&#8220;앱 잘 활용하면 삶이 스마트해져요&#8221; | 부산일보</a></li>

<li><a href='http://www.obsnews.co.kr/news/articleView.html?idxno=716608'>&#8220;아이디어만 있으면 창업&#8221; | OBS</a></li>

<li><a href='http://www.mt.co.kr/view/mtview.php?type=1&amp;no=2013050316091578345&amp;outlink=1'>靑 &#8220;창조경제 사례? 골프존·싸이·카카오톡이다&#8221; | 머니투데이</a></li>

<li>경제매거진 | MBC <iframe height='315' src='//www.youtube.com/embed/jzKCeuPhC0k' width='560' frameborder='0'> </iframe></li>
</ul>

<p>&#32;<br /><br /><br /></p>
<div data-send='true' data-show-faces='true' class='fb-like' data-width='450' data-href='http://add2paper.github.io/2014/03/27/Add2paper-Recruiting/' />
    </div>
    </div>
</div><hr /><div style='margin-top: 50px;'>
    <div class='page-header'>
      <h1><a href='/2013/04/17/Add2paper-Technology-Stack'>애드투페이퍼 서비스 구성 Stack</a></h1>
    </div>

    <div class='row-fluid'>
      <div class='span12'>
        <p>안녕하세요, <a href='http://www.add2paper.com'>애드투페이퍼</a>에서 개발을 담당하고 있는 <a href='http://www.leekchan.com'>이경찬</a>입니다. 애드투페이퍼를 개발 및 운영하면서 경험하고 해결한 사항들을 공유하고자 블로그를 만들었습니다. 첫 번째 포스트에서는 애드투페이퍼 서비스 구성 Stack에 대해서 공유하고자 합니다.</p>
<br />
<h2 id='overview'>Overview</h2>
<br />
<h3 id='_'>서버 구성</h3>

<p>애드투페이퍼 서비스는 KT Ucloud 인스턴스 7대 위에서 동작하고 있습니다. 각 인스턴스의 역할은 다음과 같습니다.</p>

<ol>
<li>로드밸런서 1대 (2vCore 2GB | Ubuntu 11.04 | HAProxy)</li>

<li>어플리케이션 서버 3대 (4vCore 4GB | Ubuntu 11.04 | Gunicorn, Django, Supervisor)</li>

<li>DB 2대 (4vCore 4GB | CentOS 5.4 | MySQL Master-Slave Replication 구성)</li>

<li>캐시 + 워커 서버 1대 (4vCore 8GB | Ubuntu 11.04 | Memcached, Celery, Redis, Supervisor)</li>
</ol>

<p>현재는 <a href='http://en.wikipedia.org/wiki/Single_point_of_failure'>SPOF</a> 가 많지만, 점진적으로 개선 중입니다. 궁극적으로는 무중단 인프라를 구축하는 것이 목표입니다. 현재 어플리케이션 서버와 DB는 Failover가 되고, HAProxy 이중화 작업을 최우선 과제로 진행 중입니다.</p>
<br />
<h3 id='_'>서비스 구성</h3>

<p>애드투페이퍼 서비스 구성은 다음과 같습니다.</p>

<ol>
<li>애드투페이퍼 웹서비스 &#160;</li>

<li>애드투페이퍼 앱 API 백엔드 &#160;</li>

<li>프린터 API 백엔드 &#160;</li>

<li>광고주용 실시간 리포트 사이트 &#160;</li>

<li>프린터관리자용 실시간 프린팅 및 정산 정보 확인 사이트 &#160;</li>

<li>내부 관리용 사이트 &#160;</li>
</ol>

<p>애드투페이퍼 초반에는 일부 시스템이 ASP, PHP로 되어있었지만 2012년 하반기부터 기존 코드 및 신규 코드들을 Python + Django로 작성하여 현재는 100% Python + Django 코드로 동작중입니다.</p>
<br />
<h2 id='application_server_'>Application Server 구성</h2>

<ol>
<li>Python</li>

<li>Django</li>

<li>Nginx</li>

<li>Gunicorn</li>

<li>Supervisor</li>
</ol>

<p>앞서 언급한 것처럼 애드투페이퍼 서비스 코드는 Python, Django로 작성됩니다. 리버스 프록시로는 Nginx, WSGI Container로는 Gunicorn을 사용하고 있습니다. Supervisor는 Gunicorn 프로세스 모니터링 용으로 사용 중입니다.</p>
<br />
<h2 id='cache_'>Cache 구성</h2>

<ol>
<li>Memcached</li>

<li><a href='http://pythonhosted.org/johnny-cache/'>Johnny Cache</a></li>
</ol>

<p>애드투페이퍼 서비스에서는 모든 Database Read Query를 Memcached에 캐시하고 있습니다. 모든 상황에 대해 견고한 Cache Invalidation 로직을 만드는 작업은 매우 많은 시간이 소요되는 작업이므로, Johnny Cache라는 Cache Framework를 사용하고 있습니다. Johnny Cache는 기본적으로 MySQL의 Query Cache와 비슷하게 동작합니다. Johnny Cache Middleware를 등록해 놓으면 Monkey Patch를 통해 SELECT 쿼리가 발생할 때는 쿼리를 Key로 Memcached에 캐시하고, INSERT 또는 UPDATE 쿼리가 발생할 때는 해당 Table에 관계된 Cache들을 자동으로 Invalidation 해줍니다.</p>

<p>백엔드 코드를 작성할 때는 Memcached의 Cache hit ratio를 높이기 위해 SELECT 문의 WHERE절에는 특정한 상수가 들어가는 것을 피하고 있습니다. 또한 어플리케이션상에서 데이터를 가공할 수 있을 때에는 최대한 어플리케이션에서 코드상에서 처리해서 I/O Bound 되는 것을 피하고 있습니다.</p>
<br />
<h2 id='database__storage'>Database / Storage</h2>

<p>데이터베이스는 MySQL 5.5 를 사용하고 있고, Master-Slave 구성으로 2대를 사용하고 있습니다.</p>

<p>서비스상에서 업로드 되는 이미지 및 파일은 Amazon S3 (Tokyo Region)에 저장하고 CDN을 통해 제공하고 있습니다. 광고 이미지를 리사이징 하는 등의 작업은 어플리케이션 서버에서 인메모리로 처리하고 S3에 저장합니다.</p>
<br />
<h2 id='worker_'>Worker 구성</h2>

<ol>
<li>Redis</li>

<li>Celery</li>

<li>Supervisor</li>
</ol>

<p>시간이 걸리는 Task들은 모두 Task Queue를 이용해 비동기로 처리하고 있습니다. Task Queue는 Celery를 이용하고 있고 작업들을 저장하고 분배하는 Broker 용도로 Redis를 사용하고 있습니다. 그리고 Celery 프로세스의 모니터링 용도로 Supervisor를 사용하고 있습니다.</p>
<br />
<h2 id='deployment'>Deployment</h2>
<p>(2014년 3월 27일 업데이트 : 현재는 <a href="http://docs.fabfile.org/en/1.8/">Fabric</a>을 이용하여 배포를 자동화하고 있습니다. Beanstalk 서비스가 Mercurial 제공을 중단하여, 저장소는 Bitbucket을 사용하고 배포 스크립트는 Fabric으로 작성하여 사용하고 있습니다.) </p>
<p>어플리케이션 배포는 <a href='http://beanstalkapp.com'>beanstalk</a>을 이용해 자동화하고 있습니다. beanstalk 서비스는 Mercurial 저장소를 제공하고 (Git도 제공), 등록된 서버들에 병렬로 접속해서 미리 지정된 SSH Command들을 실행시켜주는 기능을 제공합니다. 배포 시 각 서버에서 실행하는 커맨드는 다음과 같습니다.</p>
<br />
<h3 id='_'>어플리케이션 서버</h3>
<pre>
hg pull
hg update --clean
pip install -r ./requirements.txt
supervisorctl status gunicorn | sed "s/.*[pid ]\([0-9]\+\)\,.*/\1/" | xargs kill -HUP
</pre>
<p>저장소에서 최신 코드를 받아온 뒤, 새로 추가된 모듈들을 설치한 후 Gunicorn에 -HUP signal을 보내서 graceful reload 기능(처리 중인 요청을 모두 처리하고 프로세스를 재시작함)을 실행시킵니다. supervisorctl reload 커맨드로 Gunicorn을 재시작하면 재시작하는 도중에는 요청을 받을 수 없는 상태가 되므로, pid를 읽어와서 -HUP 시그널을 보내는 방식으로 재시작시켜서 무중단으로 코드를 변경하고 있습니다.</p>
<br />
<h3 id='___'>캐시 + 워커 서버</h3>
<pre>
hg pull
hg update --clean
pip install -r ./requirements.txt
python ./manage.py migrate
supervisorctl reload
</pre>
<p>캐시 + 워커 서버에서는 <a href='http://south.aeracode.org/'>South</a>의 migrate 커맨드를 실행시켜서 데이터베이스를 마이그레이션하는 작업을 담당하고 있습니다. 모든 작업이 끝난 후에는 supervisorctl reload 명령을 실행시켜서 Celery 프로세스를 재시작 합니다.</p>
<br />
<h2 id='server_monitoring'>Server Monitoring</h2>

<p>서버 모니터링은 <a href='http://www.datadoghq.com/'>datadog</a> 서비스를 이용해서 하고 있습니다. 실시간 모니터링이 가능하고 대시보드를 만들어 각 서버의 CPU, Memory, Network 사용량 등을 원하는 대로 가공해서 모아서 볼 수 있어서 효과적입니다.</p>
<br />
<h2 id='and_more'>And more?</h2>

<p>지금까지 저희 서비스 구성 Stack에 대해 공유 드렸는데요, 애드투페이퍼 앱에도 흥미로운 공유사항들이 많이 있습니다. 살짝 공유하자면 저희 앱은 HTML, Javascript로 제작되어서 단일 코드 베이스로 iOS / Android 플랫폼 양쪽에 배포하고 있는데요, 후속 포스팅에서 자세히 공유하도록 하겠습니다.</p>

<p>감사합니다.</p>

<p>&#32;<br /><br /></p>
<div data-send='true' data-show-faces='true' class='fb-like' data-width='450' data-href='http://add2paper.github.io' />
    </div>

      </div>



      <hr />
      <footer>
        <p>&copy; 2013 Add2paper
        </p>
      </footer>

    </div>

    


  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-31893133-4']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



  </body>
</html>

